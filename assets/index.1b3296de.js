const m=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};m();const i=document.getElementById("form-tasks"),u=a=>{let e=JSON.parse(window.localStorage.getItem("tasks"));e||(e=[]),e.push(a),window.localStorage.setItem("tasks",JSON.stringify(e))},p=a=>{const e=JSON.parse(window.localStorage.getItem("tasks")),s=e.findIndex(o=>o.id==a);e.splice(s,1),window.localStorage.setItem("tasks",JSON.stringify(e))},k=(a,e)=>{const s=JSON.parse(window.localStorage.getItem("tasks")),o=s.findIndex(t=>t.id==a);s[o].checked=e,window.localStorage.setItem("tasks",JSON.stringify(s))},f=a=>{const s=a.target.parentElement,o=s.parentElement,t=s.dataset.id;o.removeChild(s),p(t)},g=a=>{const e=a.target,s=e.parentElement.parentElement,o=document.getElementById("list-todo"),t=document.getElementById("list-done"),n=s.dataset.id;e.checked?t.append(s):o.append(s),k(n,e.checked)},d=({title:a,checked:e,id:s})=>{const o=document.createElement("li");o.classList.add("tasks-section__item"),o.dataset.id=s;const t=document.createElement("label");t.classList.add("tasks-section__item__label"),o.append(t);const n=document.createElement("input");n.classList.add("tasks-section__item__checkbox"),n.setAttribute("type","checkbox"),n.checked=e,t.append(n);const c=document.createElement("span");c.classList.add("tasks-section__item__text"),c.innerText=a,t.append(c);const r=document.createElement("button");r.classList.add("tasks-section__item__remove"),r.innerText="X",o.append(r),e?document.getElementById("list-done").append(o):document.getElementById("list-todo").append(o),n.addEventListener("change",g),r.addEventListener("click",f)},h=a=>{a.preventDefault();const o={title:new FormData(i).get("title"),checked:!1,id:Date.now()};u(o),d(o),i.reset()},L=()=>{const a=JSON.parse(window.localStorage.getItem("tasks"));if(a)for(let e=0;e<a.length;e++){const s=a[e];d(s)}};L();i.addEventListener("submit",h);
